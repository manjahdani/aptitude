package be.uclouvain.aptitude.surveillance.views.about;

import java.io.IOException;
import java.nio.charset.StandardCharsets;
import java.nio.file.Files;
import java.nio.file.Paths;
import java.util.List;

import com.vaadin.flow.component.dependency.CssImport;
import com.vaadin.flow.component.html.Div;
import com.vaadin.flow.component.html.Image;
import com.vaadin.flow.component.html.Paragraph;
import com.vaadin.flow.component.orderedlayout.VerticalLayout;
import com.vaadin.flow.router.PageTitle;
import com.vaadin.flow.router.Route;
import com.vaadin.flow.router.RouteAlias;

import be.uclouvain.aptitude.surveillance.views.main.MainView;

@Route(value = "about", layout = MainView.class)
@PageTitle("About")
@CssImport("./styles/views/about/about-view.css")
@RouteAlias(value = "", layout = MainView.class)
public class AboutView extends Div {

    public AboutView() {
        addClassName("about-view");

        VerticalLayout layout = new VerticalLayout();
        
        Image image = null;
        
		try {
			image = new Image("images/APTITUDE.jpg", "APTITUDE image");
			layout.add(image);
			
			String fileName = "src/main/resources/META-INF/resources/texts/aptitude.txt";
			List<String> textAptitude = Files.readAllLines(Paths.get(fileName), StandardCharsets.UTF_8);
			
			for (String string : textAptitude) {				
				Paragraph paragraph = new Paragraph();
				paragraph.setText(string);
				paragraph.setWidth("800px");
				layout.add(paragraph);
			}
		} catch (IOException e) {
			e.printStackTrace();
		}

		// shorthand methods for changing the component theme variants
		layout.setPadding(true);
		layout.setMargin(true);
		// just a demonstration of the API, by default the spacing is on
		layout.setSpacing(true);
		
		add(layout);
    }

}
